
\section{Question}


\paragraph{Q1}


\section{Counter}

\tikzset{
% async
latch/.style={flipflop, flipflop def={t1=D, t6=Q, t3=CLK, t4=\ctikztextnot{Q}}},
flipflop RS/.style={flipflop, flipflop def={t1=S, t3=R, t6=Q, t4=\ctikztextnot{Q}}},
% sync
flipflop D/.style={flipflop, flipflop def={t1=D, t6=Q, c3=1, t4=\ctikztextnot{Q}}},
flipflop T/.style={flipflop, flipflop def={t1=T, t6=Q, c3=1, t4=\ctikztextnot{Q}}},
flipflop JK/.style={flipflop,
flipflop def={t1=J, t3=K, c2=1, t6=Q, t4=\ctikztextnot{Q}}},
flipflop JKA/.style={flipflop,  dot on notQ,
            flipflop def={t1=J, t3=K,t6=Q, t4={\ctikztextnot{Q}},
                tu={\ctikztextnot{pr}}, nu=1, td={\ctikztextnot{cl}}, nd=1, c2=1},},
% additional features
add async RS/.style={flipflop def={
tu={\ctikztextnot{SET}}, td={\ctikztextnot{RST}}}},
dot on notQ/.style={flipflop def={t4={Q}, n4=1}},
}



    Let have the following setup
    \begin{arab}[utf]
إليك هذا التركيب
    \end{arab}

    drawn by draw counter

   \begin{circuitikz}
    
    \draw (0,2) node[circle, fill, inner sep=1pt] {};
\draw (0,2) node[left] (Ck)  {$Ck$};

        \node[flipflop JKA] (flipc0) at (2,2) {};


        
       \draw (Ck) -| (flipc0.pin 2);


        \draw (0.5,4) node[circle, fill, inner sep=1pt] {};
\draw (0.5,4) node[above] (Vcc0)  {$Vcc$};

          \draw (Vcc0) +(0,0) |- (flipc0.up);
  \draw (Vcc0) +(0,0) |- (flipc0.down);
  \draw (Vcc0) +(0,0) |- (flipc0.pin 1);
  \draw (Vcc0) +(0,0) |- (flipc0.pin 3);

        \node[flipflop JKA] (flipc1) at (5,2) {};



        \draw (3.5,4) node[circle, fill, inner sep=1pt] {};
\draw (3.5,4) node[above] (Vcc1)  {$Vcc$};

          \draw (Vcc1) +(0,0) |- (flipc1.up);
  \draw (Vcc1) +(0,0) |- (flipc1.down);
  \draw (Vcc1) +(0,0) |- (flipc1.pin 1);
  \draw (Vcc1) +(0,0) |- (flipc1.pin 3);

                    \draw (flipc0.pin 6) -- (flipc1.pin 2);


        \node[flipflop JKA] (flipc2) at (8,2) {};



        \draw (6.5,4) node[circle, fill, inner sep=1pt] {};
\draw (6.5,4) node[above] (Vcc2)  {$Vcc$};

          \draw (Vcc2) +(0,0) |- (flipc2.up);
  \draw (Vcc2) +(0,0) |- (flipc2.down);
  \draw (Vcc2) +(0,0) |- (flipc2.pin 1);
  \draw (Vcc2) +(0,0) |- (flipc2.pin 3);

                    \draw (flipc1.pin 6) -- (flipc2.pin 2);


        \node[flipflop JKA] (flipc3) at (11,2) {};



        \draw (9.5,4) node[circle, fill, inner sep=1pt] {};
\draw (9.5,4) node[above] (Vcc3)  {$Vcc$};

          \draw (Vcc3) +(0,0) |- (flipc3.up);
  \draw (Vcc3) +(0,0) |- (flipc3.down);
  \draw (Vcc3) +(0,0) |- (flipc3.pin 1);
  \draw (Vcc3) +(0,0) |- (flipc3.pin 3);

                    \draw (flipc2.pin 6) -- (flipc3.pin 2);





    \end{circuitikz}

    drawn by draw counter generic as given counter type up

    \begin{circuitikz}
    
    \draw (0,2) node[circle, fill, inner sep=1pt] {};
\draw (0,2) node[left] (Ck)  {$Ck$};

        \node[flipflop JKA] (flipc0) at (2,2) {};


        
       \draw (Ck) -| (flipc0.pin 2);


        \draw (0.5,4) node[circle, fill, inner sep=1pt] {};
\draw (0.5,4) node[above] (Vcc0)  {$Vcc$};

          \draw (Vcc0) +(0,0) |- (flipc0.up);
  \draw (Vcc0) +(0,0) |- (flipc0.down);
  \draw (Vcc0) +(0,0) |- (flipc0.pin 1);
  \draw (Vcc0) +(0,0) |- (flipc0.pin 3);

        \node[flipflop JKA] (flipc1) at (5,2) {};



        \draw (3.5,4) node[circle, fill, inner sep=1pt] {};
\draw (3.5,4) node[above] (Vcc1)  {$Vcc$};

          \draw (Vcc1) +(0,0) |- (flipc1.up);
  \draw (Vcc1) +(0,0) |- (flipc1.down);
  \draw (Vcc1) +(0,0) |- (flipc1.pin 1);
  \draw (Vcc1) +(0,0) |- (flipc1.pin 3);

                    \draw (flipc0.pin 6) -- (flipc1.pin 2);


        \node[flipflop JKA] (flipc2) at (8,2) {};



        \draw (6.5,4) node[circle, fill, inner sep=1pt] {};
\draw (6.5,4) node[above] (Vcc2)  {$Vcc$};

          \draw (Vcc2) +(0,0) |- (flipc2.up);
  \draw (Vcc2) +(0,0) |- (flipc2.down);
  \draw (Vcc2) +(0,0) |- (flipc2.pin 1);
  \draw (Vcc2) +(0,0) |- (flipc2.pin 3);

                    \draw (flipc1.pin 6) -- (flipc2.pin 2);


        \node[flipflop JKA] (flipc3) at (11,2) {};



        \draw (9.5,4) node[circle, fill, inner sep=1pt] {};
\draw (9.5,4) node[above] (Vcc3)  {$Vcc$};

          \draw (Vcc3) +(0,0) |- (flipc3.up);
  \draw (Vcc3) +(0,0) |- (flipc3.down);
  \draw (Vcc3) +(0,0) |- (flipc3.pin 1);
  \draw (Vcc3) +(0,0) |- (flipc3.pin 3);

                    \draw (flipc2.pin 6) -- (flipc3.pin 2);


        \node[flipflop JKA] (flipc4) at (14,2) {};



        \draw (12.5,4) node[circle, fill, inner sep=1pt] {};
\draw (12.5,4) node[above] (Vcc4)  {$Vcc$};

          \draw (Vcc4) +(0,0) |- (flipc4.up);
  \draw (Vcc4) +(0,0) |- (flipc4.down);
  \draw (Vcc4) +(0,0) |- (flipc4.pin 1);
  \draw (Vcc4) +(0,0) |- (flipc4.pin 3);

                    \draw (flipc3.pin 6) -- (flipc4.pin 2);


        \node[flipflop JKA] (flipc5) at (17,2) {};



        \draw (15.5,4) node[circle, fill, inner sep=1pt] {};
\draw (15.5,4) node[above] (Vcc5)  {$Vcc$};

          \draw (Vcc5) +(0,0) |- (flipc5.up);
  \draw (Vcc5) +(0,0) |- (flipc5.down);
  \draw (Vcc5) +(0,0) |- (flipc5.pin 1);
  \draw (Vcc5) +(0,0) |- (flipc5.pin 3);

                    \draw (flipc4.pin 6) -- (flipc5.pin 2);





    \end{circuitikz}

    Cite the truth table of flipflop JK.

    \begin{arab}[utf]
    اذكر جدول الحقيقة للقلاب \LR{ JK}.
    \end{arab}

   Complete the following timing diaragm, according to given flipflop.

       \begin{arab}[utf]
أكمل المخطط المنطقي الآتي، حسب القلاب المعطى.
    \end{arab}

  \paragraph{ Timing diagram  }\aRL{المخطط الزمني}

\begin{tikztimingtable}
%[timing/slope=.0, timing/draw grid]
[timing/slope=.0,  timing/wscale=1, scale=2.5, line width=1.25pt]
% horloge signal
$Ck$ & [timing/c/rising arrows] C24{1C}
\\
\\
$Q0$ &0L \\
$Q1$ &0L \\
$Q2$ &0L \\
$Q3$ &0L \\
$Q4$ &0L \\
$Q5$ &0L 
\\
\extracode
\begin{scope}[gray,semitransparent,densely dotted,thin]
\horlines{}
\vertlines{0}
\end{scope}
\begin{scope}[red,semitransparent,thin]
\vertlines{1,3,...,\twidth}
\end{scope}

\end{tikztimingtable}


 % end quesion % end debug


\hrule width 1\linewidth
\pagebreak

\subsection{Correction}


\paragraph{Q1}


\section{Counter}

\tikzset{
% async
latch/.style={flipflop, flipflop def={t1=D, t6=Q, t3=CLK, t4=\ctikztextnot{Q}}},
flipflop RS/.style={flipflop, flipflop def={t1=S, t3=R, t6=Q, t4=\ctikztextnot{Q}}},
% sync
flipflop D/.style={flipflop, flipflop def={t1=D, t6=Q, c3=1, t4=\ctikztextnot{Q}}},
flipflop T/.style={flipflop, flipflop def={t1=T, t6=Q, c3=1, t4=\ctikztextnot{Q}}},
flipflop JK/.style={flipflop,
flipflop def={t1=J, t3=K, c2=1, t6=Q, t4=\ctikztextnot{Q}}},
flipflop JKA/.style={flipflop,  dot on notQ,
            flipflop def={t1=J, t3=K,t6=Q, t4={\ctikztextnot{Q}},
                tu={\ctikztextnot{pr}}, nu=1, td={\ctikztextnot{cl}}, nd=1, c2=1},},
% additional features
add async RS/.style={flipflop def={
tu={\ctikztextnot{SET}}, td={\ctikztextnot{RST}}}},
dot on notQ/.style={flipflop def={t4={Q}, n4=1}},
}


 % end quesion
        Cite the truth table of flipflop JK.

        \begin{arab}[utf]
        اذكر جدول الحقيقة للقلاب \LR{ JK}.
        \end{arab}

        \textbf{ Truth table of JK flipflop }\\
\begin{tabular}{|c|c|c||c|l|}
  \hline Ck & J & K &  $Q_t$ &\\
  \hline 0 & X & X & $Q_{t-1}$ &\\
  \hline \frontmontant&0 & 0 & $Q_{t-1}$ &\\
  \hline \frontmontant& 0 & 1 & 0&\\
  \hline  \frontmontant&1 & 0 & 1 &\\
  \hline  \frontmontant& 1 & 1 & $\overline{Q_{t-1}}$ & \textcolor{red}{Toggle}\\
  \hline
  \end{tabular}


   \paragraph{ Timing diagram  }\aRL{المخطط الزمني}

\begin{tikztimingtable}
%[timing/slope=.0, timing/draw grid]
[timing/slope=.0,  timing/wscale=1, scale=2.5, line width=1.25pt]
% horloge signal
$Ck$ & [timing/c/rising arrows] C24{1C}
\\
\\
$Q0$ &1L 2H 2L 2H 2L 2H 2L 2H 2L 2H 2L 2H 1L \\
$Q1$ &1L 4L 4H 4L 4H 4L 3H \\
$Q2$ &1L 8L 8H 7L \\
$Q3$ &1L 16L 7H \\
$Q4$ &1L 23L \\
$Q5$ &1L 23L 
\\
\extracode
\begin{scope}[gray,semitransparent,densely dotted,thin]
\horlines{}
\vertlines{0}
\end{scope}
\begin{scope}[red,semitransparent,thin]
\vertlines{1,3,...,\twidth}
\end{scope}

\end{tikztimingtable}


 % end debug
\pagebreak